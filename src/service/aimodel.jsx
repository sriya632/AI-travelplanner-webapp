import { GoogleGenerativeAI, HarmCategory, HarmBlockThreshold } from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.5-pro-exp-03-25",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 65536,
    responseModalities: [
    ],
    responseMimeType: "application/json", // Ensure the response is in JSON format
  };
  
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget , Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with time schedule, placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating,Time travel each of the location for 3 days with each day plan with best time to visit in JSON format and give only JSON and no reasoning.\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"travelPlan\": {\n    \"location\": \"Las Vegas\",\n    \"duration\": \"3 Days\",\n    \"travelerType\": \"Couple\",\n    \"budget\": \"Cheap\",\n    \"hotelOptions\": [\n      {\n        \"HotelName\": \"Excalibur Hotel & Casino\",\n        \"HotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n        \"Price\": \"$$\",\n        \"HotelImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/2c/1e/a0/11/exterior.jpg\",\n        \"GeoCoordinates\": {\n          \"latitude\": 36.1018,\n          \"longitude\": -115.1748\n        },\n        \"Rating\": 3.5,\n        \"Description\": \"Castle-themed hotel on the Strip offering affordable rooms, a large casino, multiple dining options, and family-friendly entertainment.\"\n      },\n      {\n        \"HotelName\": \"Flamingo Las Vegas Hotel & Casino\",\n        \"HotelAddress\": \"3555 S Las Vegas Blvd, Las Vegas, NV 89109\",\n        \"Price\": \"$$\",\n        \"HotelImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/2a/99/41/e0/flamingo-las-vegas.jpg\",\n        \"GeoCoordinates\": {\n          \"latitude\": 36.1168,\n          \"longitude\": -115.1712\n        },\n        \"Rating\": 3.5,\n        \"Description\": \"Iconic, centrally located Strip hotel known for its vibrant history, GO Pool dayclub, and Wildlife Habitat.\"\n      },\n      {\n        \"HotelName\": \"The LINQ Hotel + Experience\",\n        \"HotelAddress\": \"3535 S Las Vegas Blvd, Las Vegas, NV 89109\",\n        \"Price\": \"$$\",\n        \"HotelImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/2c/34/96/20/the-linq-hotel-experience.jpg\",\n        \"GeoCoordinates\": {\n          \"latitude\": 36.1182,\n          \"longitude\": -115.1711\n        },\n        \"Rating\": 4.0,\n        \"Description\": \"Modern hotel focused on social experiences, located mid-Strip with easy access to the LINQ Promenade and High Roller observation wheel.\"\n      },\n      {\n        \"HotelName\": \"Downtown Grand Hotel & Casino\",\n        \"HotelAddress\": \"206 N 3rd St, Las Vegas, NV 89101\",\n        \"Price\": \"$\",\n        \"HotelImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/2b/5d/e9/a9/downtown-grand-hotel.jpg\",\n        \"GeoCoordinates\": {\n          \"latitude\": 36.1708,\n          \"longitude\": -115.1408\n        },\n        \"Rating\": 4.0,\n        \"Description\": \"Located in Downtown Las Vegas near Fremont Street, offering modern rooms, a rooftop pool (Citrus Grand Pool Deck), and good value.\"\n      },\n      {\n        \"HotelName\": \"Ellis Island Hotel Casino & Brewery\",\n        \"HotelAddress\": \"4178 Koval Ln, Las Vegas, NV 89109\",\n        \"Price\": \"$\",\n        \"HotelImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/1d/b0/52/6c/exterior.jpg\",\n        \"GeoCoordinates\": {\n          \"latitude\": 36.1161,\n          \"longitude\": -115.1663\n        },\n        \"Rating\": 4.0,\n        \"Description\": \"Budget-friendly hotel just off the Strip, famous for its brewery, karaoke, and cheap prime rib specials.\"\n      }\n    ],\n    \"itinerary\": {\n      \"Day1\": [\n        {\n          \"Time\": \"1:00 PM - 2:00 PM\",\n          \"PlaceName\": \"Hotel Check-in\",\n          \"PlaceDetails\": \"Arrive in Las Vegas, check into your chosen budget hotel, and leave your luggage.\",\n          \"PlaceImageUrl\": \"https://images.unsplash.com/photo-1566073771259-6a8506099945?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80\",\n          \"GeoCoordinates\": null,\n          \"TicketPricing\": \"N/A\",\n          \"Rating\": null,\n          \"TravelTime\": \"N/A\",\n          \"BestTimeToVisit\": \"Standard check-in times usually start around 3 PM, but you can often store luggage earlier.\"\n        },\n        {\n          \"Time\": \"2:00 PM - 5:00 PM\",\n          \"PlaceName\": \"Explore South/Mid-Strip\",\n          \"PlaceDetails\": \"Walk the Strip! Start near your hotel. See the exterior of hotels like NYNY, MGM Grand, Bellagio, Caesars Palace. Look for cheap eats/happy hour deals.\",\n          \"PlaceImageUrl\": \"https://images.unsplash.com/photo-1588891686639-f0a3c3c85f7e?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80\",\n          \"GeoCoordinates\": {\n            \"latitude\": 36.1146,\n            \"longitude\": -115.1728\n          },\n          \"TicketPricing\": \"Free (Walking)\",\n          \"Rating\": 4.5,\n          \"TravelTime\": \"Varies (Walking)\",\n          \"BestTimeToVisit\": \"Afternoon for energy, less intense heat than midday summer.\"\n        },\n        {\n          \"Time\": \"5:00 PM - 6:00 PM\",\n          \"PlaceName\": \"Bellagio Conservatory & Botanical Gardens\",\n          \"PlaceDetails\": \"Explore the stunning, free seasonal floral displays inside the Bellagio.\",\n          \"PlaceImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/1a/e0/0b/77/bellagio-conservatory.jpg\",\n          \"GeoCoordinates\": {\n            \"latitude\": 36.1126,\n            \"longitude\": -115.1746\n          },\n          \"TicketPricing\": \"Free\",\n          \"Rating\": 4.7,\n          \"TravelTime\": \"Short walk from Mid-Strip\",\n          \"BestTimeToVisit\": \"Anytime, but less crowded weekdays/mornings.\"\n        },\n        {\n          \"Time\": \"6:00 PM - 7:00 PM\",\n          \"PlaceName\": \"Budget Dinner\",\n          \"PlaceDetails\": \"Find an affordable dinner option. Consider Ocean One Bar & Grille (Miracle Mile Shops - often has lunch specials extending), food courts (e.g., Harrah's, Venetian), or Ellis Island's specials.\",\n          \"PlaceImageUrl\": \"https://images.unsplash.com/photo-1555939594-58d7cb561ad1?ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80\",\n          \"GeoCoordinates\": null,\n          \"TicketPricing\": \"$ - $$\",\n          \"Rating\": 4.0,\n          \"TravelTime\": \"Varies\",\n          \"BestTimeToVisit\": \"Check specific restaurant hours/deals.\"\n        },\n        {\n          \"Time\": \"7:00 PM - 10:00 PM\",\n          \"PlaceName\": \"Bellagio Fountains & Strip Night Walk\",\n          \"PlaceDetails\": \"Watch the iconic Bellagio Fountains show (runs every 15-30 mins). Continue walking the Strip at night to see the lights. Maybe see the Mirage Volcano (check show times, if still running).\",\n          \"PlaceImageUrl\": \"https://images.unsplash.com/photo-1533497369840-f7339d74b1a9?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80\",\n          \"GeoCoordinates\": {\n            \"latitude\": 36.1126,\n            \"longitude\": -115.1737\n          },\n          \"TicketPricing\": \"Free\",\n          \"Rating\": 4.8,\n          \"TravelTime\": \"Short walk\",\n          \"BestTimeToVisit\": \"Evening/Night for fountain shows and lights.\"\n        }\n      ],\n      \"Day2\": [\n        {\n          \"Time\": \"9:00 AM - 10:00 AM\",\n          \"PlaceName\": \"Breakfast\",\n          \"PlaceDetails\": \"Grab a cheap breakfast. Consider Denny's/IHOP (often have locations near Strip), hotel cafe, or a coffee shop.\",\n          \"PlaceImageUrl\": \"https://images.unsplash.com/photo-1525351484163-7529414344d8?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80\",\n          \"GeoCoordinates\": null,\n          \"TicketPricing\": \"$\",\n          \"Rating\": 3.5,\n          \"TravelTime\": \"Short walk/bus\",\n          \"BestTimeToVisit\": \"Morning\"\n        },\n        {\n          \"Time\": \"10:00 AM - 12:00 PM\",\n          \"PlaceName\": \"'Welcome to Fabulous Las Vegas' Sign\",\n          \"PlaceDetails\": \"Take a bus (Deuce or SDX) or rideshare to the iconic sign for photos. There might be a queue.\",\n          \"PlaceImageUrl\": \"https://images.unsplash.com/photo-1570172619642-3b10a616386f?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80\",\n          \"GeoCoordinates\": {\n            \"latitude\": 36.0819,\n            \"longitude\": -115.1727\n          },\n          \"TicketPricing\": \"Free (transportation cost extra)\",\n          \"Rating\": 4.5,\n          \"TravelTime\": \"15-30 mins (Bus/Rideshare from Strip)\",\n          \"BestTimeToVisit\": \"Morning to avoid the worst heat and potentially shorter lines.\"\n        },\n        {\n          \"Time\": \"12:00 PM - 3:00 PM\",\n          \"PlaceName\": \"Explore Themed Hotels (Venetian/Palazzo)\",\n          \"PlaceDetails\": \"Take the bus back towards mid-strip. Explore the Grand Canal Shoppes at The Venetian, see the indoor canals and St. Mark's Square replica. Window shopping is free!\",\n          \"PlaceImageUrl\": \"https://images.unsplash.com/photo-1605833944403-4d5b8a197e8a?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80\",\n          \"GeoCoordinates\": {\n            \"latitude\": 36.1243,\n            \"longitude\": -115.1717\n          },\n          \"TicketPricing\": \"Free (Gondola rides are extra)\",\n          \"Rating\": 4.6,\n          \"TravelTime\": \"20-40 mins (Bus/Rideshare from Vegas Sign)\",\n          \"BestTimeToVisit\": \"Anytime during mall hours.\"\n        },\n        {\n          \"Time\": \"3:00 PM - 5:00 PM\",\n          \"PlaceName\": \"Relax / Happy Hour\",\n          \"PlaceDetails\": \"Head back towards your hotel or find a spot with good happy hour deals for drinks and cheap appetizers.\",\n          \"PlaceImageUrl\": \"https://images.unsplash.com/photo-1514933651103-005eec06c04b?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80\",\n          \"GeoCoordinates\": null,\n          \"TicketPricing\": \"$ - $$\",\n          \"Rating\": 4.0,\n          \"TravelTime\": \"Varies\",\n          \"BestTimeToVisit\": \"Typically 3 PM - 6 PM for Happy Hour.\"\n        },\n        {\n          \"Time\": \"5:00 PM - 10:00 PM\",\n          \"PlaceName\": \"Fremont Street Experience (Downtown)\",\n          \"PlaceDetails\": \"Take the Deuce bus or rideshare downtown. Experience the Viva Vision light show on the overhead canopy, street performers, cheaper drinks, and classic Vegas vibe. Have dinner at a casual downtown spot (e.g., Pizza Rock, Evel Pie, Heart Attack Grill - for the spectacle!).\",\n          \"PlaceImageUrl\": \"https://images.unsplash.com/photo-1563414937247-b6d77a3a8f3a?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80\",\n          \"GeoCoordinates\": {\n            \"latitude\": 36.1705,\n            \"longitude\": -115.1411\n          },\n          \"TicketPricing\": \"Free (transportation, food, drinks extra)\",\n          \"Rating\": 4.6,\n          \"TravelTime\": \"20-40 mins (Bus/Rideshare from Strip)\",\n          \"BestTimeToVisit\": \"Evening/Night for the light shows and atmosphere (shows usually start hourly after dusk).\"\n        }\n      ],\n      \"Day3\": [\n        {\n          \"Time\": \"9:00 AM - 10:00 AM\",\n          \"PlaceName\": \"Breakfast\",\n          \"PlaceDetails\": \"Another cheap breakfast near your hotel or downtown if you stayed late.\",\n          \"PlaceImageUrl\": \"https://images.unsplash.com/photo-1484723091739-30a097e8f929?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80\",\n          \"GeoCoordinates\": null,\n          \"TicketPricing\": \"$\",\n          \"Rating\": 3.5,\n          \"TravelTime\": \"Short walk/bus\",\n          \"BestTimeToVisit\": \"Morning\"\n        },\n        {\n          \"Time\": \"10:00 AM - 1:00 PM\",\n          \"PlaceName\": \"Explore More Hotels / Window Shopping\",\n          \"PlaceDetails\": \"Visit hotels you missed, like Caesars Palace Forum Shops (free Atlantis show), Paris Las Vegas (see the Eiffel Tower replica), or browse the Miracle Mile Shops at Planet Hollywood.\",\n          \"PlaceImageUrl\": \"https://images.unsplash.com/photo-1598305109953-341003b6d015?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80\",\n          \"GeoCoordinates\": {\n            \"latitude\": 36.1162,\n            \"longitude\": -115.1745\n          },\n          \"TicketPricing\": \"Free\",\n          \"Rating\": 4.4,\n          \"TravelTime\": \"Varies (Walking/Bus)\",\n          \"BestTimeToVisit\": \"Late morning/early afternoon.\"\n        },\n        {\n          \"Time\": \"1:00 PM - 2:00 PM\",\n          \"PlaceName\": \"Affordable Lunch\",\n          \"PlaceDetails\": \"Grab a final cheap Vegas lunch. In-N-Out Burger (near LINQ), White Castle, or another food court are good options.\",\n          \"PlaceImageUrl\": \"https://images.unsplash.com/photo-1568901346375-23c9450c58cd?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80\",\n          \"GeoCoordinates\": null,\n          \"TicketPricing\": \"$\",\n          \"Rating\": 4.0,\n          \"TravelTime\": \"Varies\",\n          \"BestTimeToVisit\": \"Lunchtime\"\n        },\n        {\n          \"Time\": \"2:00 PM - 4:00 PM\",\n          \"PlaceName\": \"Last Minute Souvenirs / Relax\",\n          \"PlaceDetails\": \"Pick up any souvenirs (check large souvenir shops for better prices, often found between major casinos or downtown) or relax by the pool if your hotel has one and time permits before check-out/departure.\",\n          \"PlaceImageUrl\": \"https://images.unsplash.com/photo-1580640854569-74f9614a67f8?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80\",\n          \"GeoCoordinates\": null,\n          \"TicketPricing\": \"Varies\",\n          \"Rating\": null,\n          \"TravelTime\": \"Varies\",\n          \"BestTimeToVisit\": \"Afternoon\"\n        },\n        {\n          \"Time\": \"4:00 PM onwards\",\n          \"PlaceName\": \"Check-out / Departure\",\n          \"PlaceDetails\": \"Check out from your hotel (confirm check-out time) and head to the airport or depart.\",\n          \"PlaceImageUrl\": \"https://images.unsplash.com/photo-1578507065216-513a799a442b?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80\",\n          \"GeoCoordinates\": null,\n          \"TicketPricing\": \"N/A\",\n          \"Rating\": null,\n          \"TravelTime\": \"30-45 mins to Airport (approx)\",\n          \"BestTimeToVisit\": \"Allow ample time before flight.\"\n        }\n      ]\n    }\n  }\n}\n```"},
          ],
        },
      ],
    });
  
    
